<div class="logo">
    <a href="/">
        <img src="/Images/logo-vertical.png" alt="" />
    </a>
</div>
<!-- END LOGO -->
<!-- BEGIN LOGIN -->
<div class="content">
    <!-- BEGIN LOGIN FORM -->
    <div ng-if="$ctrl.haveConnectionString">
        <div ng-enter="$ctrl.login()" ng-if="!$ctrl.isFirstTime" class="login-form">
            <h3 class="form-title font-blue">Sign In</h3>
            <div ng-if="$ctrl.errorMessage" class="alert alert-danger">
                <button class="close" ng-click="$ctrl.errorMessage=''"></button>
                <span> {{$ctrl.errorMessage}} </span>
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">Username/Email</label>
                <input ng-model="$ctrl.userName" class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="Username/Email" name="username" />
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">Password</label>
                <input ng-model="$ctrl.password" class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="Password" name="password" />
            </div>
            <div class="form-actions">
                <button ng-click="$ctrl.login()" class="btn blue uppercase">Login</button>
            </div>
        </div>
        <!-- END LOGIN FORM -->

        <div ng-if="$ctrl.isFirstTime" ng-enter="$ctrl.saveLoginInfo()" class="login-form">
            <p class="form-title font-red">Please create an administrator account.</p>
            <div ng-if="$ctrl.errorMessage" class="alert alert-danger">
                <button class="close" ng-click="$ctrl.errorMessage=''"></button>
                <span ng-bind-html="$ctrl.errorMessage"> </span>
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">Username</label>
                <input ng-model="$ctrl.userName" class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="Username" name="username" />
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">Password</label>
                <input ng-model="$ctrl.password" class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="Password" name="password" />
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">Retype password</label>
                <input ng-model="$ctrl.passwordRetype" class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="Retype password" name="password" />
            </div>
            <div class="form-actions">
                <button ng-click="$ctrl.saveLoginInfo()" class="btn blue uppercase">Save and sign in</button>
            </div>
        </div>
    </div>
    <div ng-if="!$ctrl.haveConnectionString" ng-enter="$ctrl.saveDatabaseInfo()" class="login-form">
        <p class="form-title font-red">Please choose database connection.</p>
        <div ng-if="$ctrl.errorMessage" class="alert alert-danger">
            <button class="close" ng-click="$ctrl.errorMessage=''"></button>
            <span ng-bind-html="$ctrl.errorMessage"> </span>
        </div>
        <div class="form-group">
            <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
            <label class="control-label visible-ie8 visible-ie9">Database type</label>
            <select ng-model="$ctrl.databaseType" ng-change="$ctrl.changePort()" class="form-control form-control-solid placeholder-no-fix" name="databaseType">
                <option value="">Please select server type</option>
                <option value="postgres">PostgreSql</option>
                <option value="mysql">MySql</option>
                <option value="mssql">MSSql</option>
            </select>
        </div>
        <div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">Host</label>
            <input autocomplete="off" ng-model="$ctrl.host" class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="Host" name="Host" />
        </div>
        <!--<div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">Port</label>
            <input ng-model="$ctrl.port" class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="Port" name="port" />
        </div>-->
        <div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">Name for Blue Spatial database</label>            
            <input autocomplete="off" ng-model="$ctrl.initialDatabase" value="BlueSpatial" class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="Name for Blue Spatial database" name="initialDatabase" />
        </div>
        <div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">User Name</label>
            <input autocomplete="off" ng-model="$ctrl.userNameOfDb" class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="User Name" name="userNameOfDb" />
        </div>
        <div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">Password</label>
            <input autocomplete="off" ng-model="$ctrl.passwordOfDb" class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="Password" name="passwordOfDb" />
        </div>
        <div class="form-actions">
            <button ng-click="$ctrl.saveDatabaseInfo()" class="btn blue uppercase">Save database connection</button>
        </div>
    </div>
</div>
<div class="copyright"> &copy; <a href="http://www.BlueSpatial.com" target="_blank">Blue Spatial 2018</a></div>

